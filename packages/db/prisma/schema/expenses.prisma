model Expense {
  id                  String    @id @default(uuid())
  propertyId          String
  property            Property  @relation(fields: [propertyId], references: [id], onDelete: Cascade)
  unitId              String?
  unit                Unit?     @relation(fields: [unitId], references: [id], onDelete: SetNull)
  paidBy              String    // user.id
  paidByUser          User      @relation("ExpensePaidBy", fields: [paidBy], references: [id], onDelete: Cascade)
  category            String    // maintenance, utilities, tax, etc.
  amount              Decimal
  currencyId          String
  currency            Currency  @relation(fields: [currencyId], references: [id])
  date                DateTime
  description         String?
  receiptDocumentId   String?   @unique
  receiptDocument     Document? @relation("ExpenseReceipt", fields: [receiptDocumentId], references: [id], onDelete: SetNull)
  createdAt           DateTime  @default(now())
  updatedAt           DateTime  @updatedAt

  @@index([propertyId])
  @@index([unitId])
  @@index([paidBy])
  @@index([category])
  @@index([date])
  @@index([currencyId])
  @@map("expense")
}

